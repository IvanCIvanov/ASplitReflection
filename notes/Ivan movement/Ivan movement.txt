var old_y = y

if (can_move) {
    // Calculate distance to target
    var dist = point_distance(x, y, target_x, target_y);

    // If close enough to target, snap and stop
    if (dist <= 50){//3 = move speed
        x = target_x;
        y = target_y;
		speed = 0
        can_move = false;  // stop until next press
	}

        // Swap target for next button press
        var nearestGoto = instance_nearest(x, y, gotoObj);
        var nearestReturn = instance_nearest(x, y, returnObj);

        if (point_distance(x, y, nearestGoto.x, nearestGoto.y) < 3) {
            // currently at Goto, next is Return
            if (nearestReturn != noone) {
                target_x = nearestReturn.x;
                target_y = nearestReturn.y;
            }
        } else if (nearestGoto != noone) {
            // currently at Return, next is Goto
           
                target_x = nearestGoto.x;
                target_y = nearestGoto.y;
           
        } else {
        // Move toward target normally
        move_towards_point(target_x, target_y, 3);
    }
}

platform_vsp = y-old_y